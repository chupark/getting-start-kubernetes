<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=EUC-KR">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
function callVote(animal) {
	$.ajax({
		type : "get",
		url : "./vote.jsp",
		cache: false,
		data : {
			animal : $(animal).val()
		}
	});	
}

$(document).ready(function() {
	$.ajax({
		type : "get",
		url : "./showresult.jsp",
		cache: false,
		success: whdenSuccess
	});
}); 


function callresult() {
	$.ajax({
		type : "get",
		url : ".f/showresult.jsp",
		cache: false,
		success: whenSuccess
	});
}

function whenSuccess(resdata) {
	$("#cat").html(resdata.cat);
	$("#dog").html(resdata.dog);
}

</script>
<title>Insert title here</title>
</head>
<body>
<h1>Vote Here!!</h1>
	<button class="animal" value="dog" onclick="callVote(this);callresult()"> 개 </button>
	<button class="animal" value="cat" onclick="callVote(this);callresult()"> 고양이 </button>
	<table border=1>
		<tr>
			<td width=70 align=center>개</td><td width=70 align=center>고양이</td>
		</tr>
		<tr>
			<td width=70 align=center id=dog>개</td><td width=70 align=center id=cat>고양이</td>
		</tr>
	</table>
</body>
</html>